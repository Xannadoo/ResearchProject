cn3.hpc.itu.dk
environ({'SLURM_TRES_PER_TASK': 'cpu=16', 'OMPI_MCA_plm_slurm_args': '--external-launcher', 'PRTE_MCA_plm_slurm_args': '--external-launcher', 'HYDRA_BOOTSTRAP': 'slurm', 'HYDRA_LAUNCHER_EXTRA_ARGS': '--external-launcher', 'I_MPI_HYDRA_BOOTSTRAP': 'slurm', 'I_MPI_HYDRA_BOOTSTRAP_EXEC_EXTRA_ARGS': '--external-launcher', 'CONDA_SHLVL': '2', 'SLURM_MEM_PER_CPU': '2048', 'LS_COLORS': 'rs=0:di=38;5;33:ln=38;5;51:mh=00:pi=40;38;5;11:so=38;5;13:do=38;5;5:bd=48;5;232;38;5;11:cd=48;5;232;38;5;3:or=48;5;232;38;5;9:mi=01;05;37;41:su=48;5;196;38;5;15:sg=48;5;11;38;5;16:ca=48;5;196;38;5;226:tw=48;5;10;38;5;16:ow=48;5;10;38;5;21:st=48;5;21;38;5;15:ex=38;5;40:*.tar=38;5;9:*.tgz=38;5;9:*.arc=38;5;9:*.arj=38;5;9:*.taz=38;5;9:*.lha=38;5;9:*.lz4=38;5;9:*.lzh=38;5;9:*.lzma=38;5;9:*.tlz=38;5;9:*.txz=38;5;9:*.tzo=38;5;9:*.t7z=38;5;9:*.zip=38;5;9:*.z=38;5;9:*.dz=38;5;9:*.gz=38;5;9:*.lrz=38;5;9:*.lz=38;5;9:*.lzo=38;5;9:*.xz=38;5;9:*.zst=38;5;9:*.tzst=38;5;9:*.bz2=38;5;9:*.bz=38;5;9:*.tbz=38;5;9:*.tbz2=38;5;9:*.tz=38;5;9:*.deb=38;5;9:*.rpm=38;5;9:*.jar=38;5;9:*.war=38;5;9:*.ear=38;5;9:*.sar=38;5;9:*.rar=38;5;9:*.alz=38;5;9:*.ace=38;5;9:*.zoo=38;5;9:*.cpio=38;5;9:*.7z=38;5;9:*.rz=38;5;9:*.cab=38;5;9:*.wim=38;5;9:*.swm=38;5;9:*.dwm=38;5;9:*.esd=38;5;9:*.jpg=38;5;13:*.jpeg=38;5;13:*.mjpg=38;5;13:*.mjpeg=38;5;13:*.gif=38;5;13:*.bmp=38;5;13:*.pbm=38;5;13:*.pgm=38;5;13:*.ppm=38;5;13:*.tga=38;5;13:*.xbm=38;5;13:*.xpm=38;5;13:*.tif=38;5;13:*.tiff=38;5;13:*.png=38;5;13:*.svg=38;5;13:*.svgz=38;5;13:*.mng=38;5;13:*.pcx=38;5;13:*.mov=38;5;13:*.mpg=38;5;13:*.mpeg=38;5;13:*.m2v=38;5;13:*.mkv=38;5;13:*.webm=38;5;13:*.ogm=38;5;13:*.mp4=38;5;13:*.m4v=38;5;13:*.mp4v=38;5;13:*.vob=38;5;13:*.qt=38;5;13:*.nuv=38;5;13:*.wmv=38;5;13:*.asf=38;5;13:*.rm=38;5;13:*.rmvb=38;5;13:*.flc=38;5;13:*.avi=38;5;13:*.fli=38;5;13:*.flv=38;5;13:*.gl=38;5;13:*.dl=38;5;13:*.xcf=38;5;13:*.xwd=38;5;13:*.yuv=38;5;13:*.cgm=38;5;13:*.emf=38;5;13:*.ogv=38;5;13:*.ogx=38;5;13:*.aac=38;5;45:*.au=38;5;45:*.flac=38;5;45:*.m4a=38;5;45:*.mid=38;5;45:*.midi=38;5;45:*.mka=38;5;45:*.mp3=38;5;45:*.mpc=38;5;45:*.ogg=38;5;45:*.ra=38;5;45:*.wav=38;5;45:*.oga=38;5;45:*.opus=38;5;45:*.spx=38;5;45:*.xspf=38;5;45:', 'CONDA_EXE': '/opt/itu/easybuild/software/Anaconda3/2024.02-1/bin/conda', 'SLURM_NODEID': '0', 'SLURM_TASK_PID': '1621390', '__LMOD_REF_COUNT_PATH': '/opt/itu/easybuild/software/Anaconda3/2024.02-1:1;/opt/itu/easybuild/software/Anaconda3/2024.02-1/sbin:1;/opt/itu/easybuild/software/Anaconda3/2024.02-1/bin:2;/opt/itu/easybuild/software/Anaconda3/2024.02-1/condabin:1;/usr/local/bin:1;/usr/bin:1;/usr/local/sbin:1;/usr/sbin:1;/opt/puppetlabs/bin:1;/home/ccor/.local/bin:1;/home/ccor/bin:1', '_ModuleTable002_': 'L21vZHVsZWZpbGVzIiwgIi91c3Ivc2hhcmUvbW9kdWxlZmlsZXMiLCAiL29wdC9pdHUvZWFzeWJ1aWxkL21vZHVsZXMvYWxsIgosICIvdXNyL3NoYXJlL21vZHVsZWZpbGVzL0xpbnV4IiwgIi91c3Ivc2hhcmUvbW9kdWxlZmlsZXMvQ29yZSIsICIvdXNyL3NoYXJlL2xtb2QvbG1vZC9tb2R1bGVmaWxlcy9Db3JlIiwKfSwKc3lzdGVtQmFzZU1QQVRIID0gIi9ldGMvbW9kdWxlZmlsZXM6L3Vzci9zaGFyZS9tb2R1bGVmaWxlczovb3B0L2l0dS9lYXN5YnVpbGQvbW9kdWxlcy9hbGw6L3Vzci9zaGFyZS9tb2R1bGVmaWxlcy9MaW51eDovdXNyL3NoYXJlL21vZHVsZWZpbGVzL0NvcmU6L3Vzci9zaGFyZS9sbW9kL2xtb2QvbW9kdWxlZmlsZXMvQ29yZSIsCn0K', 'SSH_CONNECTION': '10.30.26.7 54250 192.168.21.20 22', 'SLURM_PRIO_PROCESS': '0', 'LANG': 'C.UTF-8', 'SLURM_SUBMIT_DIR': '/home/ccor', 'HISTCONTROL': 'ignoredups', 'HOSTNAME': 'cn3', 'OLDPWD': '/home/ccor', 'SLURM_CPUS_PER_TASK': '16', 'ENVIRONMENT': 'BATCH', 'FPATH': '/usr/share/lmod/lmod/init/ksh_funcs:/usr/share/lmod/lmod/init/ksh_funcs', 'EBROOTANACONDA3': '/opt/itu/easybuild/software/Anaconda3/2024.02-1', 'ROCR_VISIBLE_DEVICES': '0,1,2', 'CONDA_PREFIX': '/home/ccor/.conda/envs/counter', 'SLURM_PROCID': '0', 'SLURM_JOB_GID': '79789', '__LMOD_REF_COUNT_PKG_CONFIG_PATH': '/opt/itu/easybuild/software/Anaconda3/2024.02-1/lib/pkgconfig:1', 'SLURMD_NODENAME': 'cn3', 'SLURM_JOB_END_TIME': '1740699171', 'SLURM_TASKS_PER_NODE': '1', '_CE_M': '', 'which_declare': 'declare -f', 'XDG_SESSION_ID': '17154', 'SLURM_NNODES': '1', 'USER': 'ccor', 'CONDA_PREFIX_1': '/opt/itu/easybuild/software/Anaconda3/2024.02-1', 'SLURM_JOB_START_TIME': '1740655971', '__LMOD_REF_COUNT_MODULEPATH': '/etc/modulefiles:1;/usr/share/modulefiles:1;/opt/itu/easybuild/modules/all:1;/usr/share/modulefiles/Linux:1;/usr/share/modulefiles/Core:1;/usr/share/lmod/lmod/modulefiles/Core:1', 'PWD': '/home/ccor/ResearchProject', 'SLURM_JOB_NODELIST': 'cn3', 'HOME': '/home/ccor', 'SLURM_CLUSTER_NAME': 'ituhpc', 'CONDA_PYTHON_EXE': '/opt/itu/easybuild/software/Anaconda3/2024.02-1/bin/python', 'SLURM_NODELIST': 'cn3', 'SLURM_GPUS_ON_NODE': '3', 'SSH_CLIENT': '10.30.26.7 54250 22', 'LMOD_VERSION': '8.7.48', 'SLURM_JOB_CPUS_PER_NODE': '16', 'BASH_ENV': '/usr/share/lmod/lmod/init/bash', 'SLURM_TOPOLOGY_ADDR': 'cn3', '_CE_CONDA': '', 'SLURM_JOB_NAME': 'intgrads', 'TMPDIR': '/tmp', 'SLURM_JOB_GPUS': '0,1,2', 'LMOD_sys': 'Linux', 'SLURM_JOBID': '28123', '_ModuleTable001_': 'X01vZHVsZVRhYmxlXyA9IHsKTVR2ZXJzaW9uID0gMywKY19yZWJ1aWxkVGltZSA9IGZhbHNlLApjX3Nob3J0VGltZSA9IGZhbHNlLApkZXB0aFQgPSB7fSwKZmFtaWx5ID0ge30sCm1UID0gewpBbmFjb25kYTMgPSB7CmZuID0gIi9vcHQvaXR1L2Vhc3lidWlsZC9tb2R1bGVzL2FsbC9BbmFjb25kYTMvMjAyNC4wMi0xLmx1YSIsCmZ1bGxOYW1lID0gIkFuYWNvbmRhMy8yMDI0LjAyLTEiLApsb2FkT3JkZXIgPSAxLApwcm9wVCA9IHt9LApzdGFja0RlcHRoID0gMCwKc3RhdHVzID0gImFjdGl2ZSIsCnVzZXJOYW1lID0gIkFuYWNvbmRhMyIsCndWID0gIjAwMDAwMjAyNC4wMDAwMDAwMDIuKnpmaW5hbC0uMDAwMDAwMDAxLip6ZmluYWwiLAp9LAp9LAptcGF0aEEgPSB7CiIvZXRj', 'SLURM_CONF': '/var/spool/slurmd/conf-cache/slurm.conf', 'LOADEDMODULES': 'Anaconda3/2024.02-1', '__LMOD_REF_COUNT_MANPATH': '/opt/itu/easybuild/software/Anaconda3/2024.02-1/share/man:1;/opt/itu/easybuild/software/Anaconda3/2024.02-1/man:1;/usr/share/lmod/lmod/share/man:1;:1;/opt/puppetlabs/puppet/share/man:1', 'SLURM_JOB_QOS': 'normal', 'LMOD_ROOT': '/usr/share/lmod', 'SLURM_TOPOLOGY_ADDR_PATTERN': 'node', 'CONDA_PROMPT_MODIFIER': '(counter) ', 'SSH_TTY': '/dev/pts/16', 'MAIL': '/var/spool/mail/ccor', 'ZE_AFFINITY_MASK': '0,1,2', 'SLURM_CPUS_ON_NODE': '16', 'SLURM_JOB_NUM_NODES': '1', 'SHELL': '/bin/bash', 'TERM': 'xterm-256color', '_ModuleTable_Sz_': '2', 'SLURM_JOB_UID': '48881', 'SLURM_JOB_PARTITION': 'scavenge', 'EBDEVELANACONDA3': '/opt/itu/easybuild/software/Anaconda3/2024.02-1/easybuild/Anaconda3-2024.02-1-easybuild-devel', 'SLURM_JOB_USER': 'ccor', 'CUDA_VISIBLE_DEVICES': '0,1,2', 'SHLVL': '2', 'SLURM_SUBMIT_HOST': 'slurmhead.hpc.itu.dk', 'SLURM_JOB_ACCOUNT': 'researchers', 'MANPATH': '/opt/itu/easybuild/software/Anaconda3/2024.02-1/share/man:/opt/itu/easybuild/software/Anaconda3/2024.02-1/man:/usr/share/lmod/lmod/share/man::/opt/puppetlabs/puppet/share/man', 'MODULEPATH': '/etc/modulefiles:/usr/share/modulefiles:/opt/itu/easybuild/modules/all:/usr/share/modulefiles/Linux:/usr/share/modulefiles/Core:/usr/share/lmod/lmod/modulefiles/Core', 'SLURM_GTIDS': '0', 'LOGNAME': 'ccor', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/48881/bus', 'XDG_RUNTIME_DIR': '/run/user/48881', 'MODULEPATH_ROOT': '/usr/share/modulefiles', 'PATH': '/opt/itu/easybuild/software/Anaconda3/2024.02-1:/opt/itu/easybuild/software/Anaconda3/2024.02-1/sbin:/home/ccor/.conda/envs/counter/bin:/opt/itu/easybuild/software/Anaconda3/2024.02-1/condabin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/puppetlabs/bin:/home/ccor/.local/bin:/home/ccor/bin', 'SLURM_JOB_ID': '28123', '_LMFILES_': '/opt/itu/easybuild/modules/all/Anaconda3/2024.02-1.lua', 'DEBUGINFOD_URLS': 'https://debuginfod.centos.org/ ', 'MODULESHOME': '/usr/share/lmod/lmod', 'PKG_CONFIG_PATH': '/opt/itu/easybuild/software/Anaconda3/2024.02-1/lib/pkgconfig', 'LMOD_SETTARG_FULL_SUPPORT': 'no', 'CONDA_DEFAULT_ENV': 'counter', 'HISTSIZE': '1000', 'LMOD_PKG': '/usr/share/lmod/lmod', 'EBVERSIONANACONDA3': '2024.02-1', 'LMOD_CMD': '/usr/share/lmod/lmod/libexec/lmod', 'SLURM_LOCALID': '0', 'GPU_DEVICE_ORDINAL': '0,1,2', 'LESSOPEN': '||/usr/bin/lesspipe.sh %s', 'LMOD_DIR': '/usr/share/lmod/lmod/libexec', 'BASH_FUNC_which%%': '() {  ( alias;\n eval ${which_declare} ) | /usr/bin/which --tty-only --read-alias --read-functions --show-tilde --show-dot $@\n}', 'BASH_FUNC_module%%': '() {  if [ -z "${LMOD_SH_DBG_ON+x}" ]; then\n case "$-" in \n *v*x*)\n __lmod_sh_dbg=\'vx\'\n ;;\n *v*)\n __lmod_sh_dbg=\'v\'\n ;;\n *x*)\n __lmod_sh_dbg=\'x\'\n ;;\n esac;\n fi;\n if [ -n "${__lmod_sh_dbg:-}" ]; then\n set +$__lmod_sh_dbg;\n echo "Shell debugging temporarily silenced: export LMOD_SH_DBG_ON=1 for Lmod\'s output" 1>&2;\n fi;\n eval "$($LMOD_CMD shell "$@")" && eval "$(${LMOD_SETTARG_CMD:-:} -s sh)";\n __lmod_my_status=$?;\n if [ -n "${__lmod_sh_dbg:-}" ]; then\n echo "Shell debugging restarted" 1>&2;\n set -$__lmod_sh_dbg;\n fi;\n unset __lmod_sh_dbg;\n return $__lmod_my_status\n}', 'BASH_FUNC_ml%%': '() {  eval "$($LMOD_DIR/ml_cmd "$@")"\n}', '_': '/usr/bin/srun', 'SRUN_DEBUG': '3', 'SLURM_UMASK': '0002', 'SLURM_NTASKS': '1', 'SLURM_NPROCS': '1', 'SLURM_DISTRIBUTION': 'block', 'SLURMD_DEBUG': '2', 'SLURM_STEP_ID': '0', 'SLURM_STEPID': '0', 'SLURM_STEP_NODELIST': 'cn3', 'SLURM_STEP_NUM_NODES': '1', 'SLURM_STEP_NUM_TASKS': '1', 'SLURM_STEP_TASKS_PER_NODE': '1', 'SLURM_STEP_LAUNCHER_PORT': '44265', 'SLURM_SRUN_COMM_PORT': '44265', 'SLURM_SRUN_COMM_HOST': '172.16.16.3', 'SLURM_STEP_GPUS': '0,1,2', 'SLURM_CPU_BIND': 'quiet,mask_cpu:0x0000FF0000FF', 'SLURM_CPU_BIND_LIST': '0x0000FF0000FF', 'SLURM_CPU_BIND_TYPE': 'mask_cpu:', 'SLURM_CPU_BIND_VERBOSE': 'quiet', 'SLURM_LAUNCH_NODE_IPADDR': '172.16.16.3'})
Traceback (most recent call last):
  File "/home/ccor/ResearchProject/intgrads.py", line 24, in <module>
    torch.distributed.init_process_group("nccl",rank=rank, world_size=world_size, device_id=device)
  File "/home/ccor/.conda/envs/counter/lib/python3.11/site-packages/torch/distributed/c10d_logger.py", line 81, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ccor/.conda/envs/counter/lib/python3.11/site-packages/torch/distributed/c10d_logger.py", line 95, in wrapper
    func_return = func(*args, **kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ccor/.conda/envs/counter/lib/python3.11/site-packages/torch/distributed/distributed_c10d.py", line 1714, in init_process_group
    store, rank, world_size = next(rendezvous_iterator)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ccor/.conda/envs/counter/lib/python3.11/site-packages/torch/distributed/rendezvous.py", line 270, in _env_rendezvous_handler
    master_addr = _get_env_or_raise("MASTER_ADDR")
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ccor/.conda/envs/counter/lib/python3.11/site-packages/torch/distributed/rendezvous.py", line 248, in _get_env_or_raise
    raise _env_error(env_var)
ValueError: Error initializing torch.distributed using env:// rendezvous: environment variable MASTER_ADDR expected, but not set
srun: error: cn3: task 0: Exited with exit code 1
